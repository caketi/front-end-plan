# JS 事件

## 目录

[事件流](#事件流)

[事件处理程序](#事件处理程序)

事件对象

事件类型

内存和性能

模拟事件

---

## 事件流

首先明确一下与事件相关的概念。`事件` 是用来处理 JS 和 HTML 之间的交互的，HTML 中的 DOM 树有非常多的 DOM 对象，我们常常在某个对象上触发事件，我们称事件触发的目标为 `事件目标` 。事件的类型有很多，如鼠标操作、键盘输入、浏览器窗口事件、移动设备的事件等等，我们用 `事件类型` 来划分不同种类的事件。事件发生之后，往往要执行特定的动作，我们称之为 `事件处理程序` 或者 `事件监听器` 。

事件往往不是发生在某一个单独的事件目标上的。想象一下，你在一张白纸上画很多个同心圆，当你用手按住最里面的同心圆时，你其实按住的是所有的同心圆。DOM 事件也是如此，它往往会从一个目标传播到另一个目标，我们称之为 `事件传播` 。`事件流` 描述的就是事件的传播顺序。

我们将事件流（或者说事件的传播过程）分为三个阶段：`事件捕获阶段`， `处于目标阶段` 和 `事件冒泡阶段` 。我们通过例子来解释这 3 个阶段。考虑 body 标签内包含一个 div 标签。

```html
<body>
    <div>click me</div>
</body>
```

- `事件捕获阶段` ：事件捕获阶段是事件从最外层目标传递到你直接操作的那个目标之前的上一个目标。这么说有点绕，考虑上面的例子，但我们点击 div 元素时，div 元素就是我们直接操作的目标。在事件捕获阶段中，事件的传播过程为： `window` -> `document` -> `html` -> `body` (注意这里并没有包括 div 目标本身) 。有人会问，事件的具体有什么效果。通俗的讲，如果你在 `document` 上添加了事件处理程序，那么当事件传播到 `document` 上的时候，那个事件处理程序就会被执行。事件捕获有什么意义呢？所谓捕获，就是指在事件传播到你直接操作的那个目标之前，可以提前将其拦截。在事件捕获阶段添加事件处理程序的情况并不多，但在某些场景下，非常有用。
- `处于目标阶段` ： 经过事件捕获阶段后，事件便传播到你直接操作的那个目标，该目标添加的事件处理程序便会执行。事件流的这个阶段称之为 `处于目标阶段` 。
- `事件冒泡阶段` ： 事件冒泡和事件捕获相反，是指事件从直接操作的事件目标传播到最外层目标的过程。上述例子的冒泡顺序为： `div` -> `body` -> `html` -> `document` -> `window` 。

---

## 事件处理程序

### HTML 事件处理程序



### DOM0 级事件处理程序



### DOM2 级事件处理程序



### IE 事件处理程序

